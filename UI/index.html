<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Proyecto Final Martin Camacho</title>
    <!-- Bootstrap Styles-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <!-- FontAwesome Styles-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <!-- Morris Chart Styles-->
    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />
    <!-- Custom Styles-->
    <link href="assets/css/custom-styles.css" rel="stylesheet" />
    <!-- Google Fonts-->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />
	<script src="assets/js/angular.min.js"></script>
</head>

<body>
    <div id="wrapper" ng-app="index" ng-controller="index_ctrl">
        <nav class="navbar navbar-default top-navbar" role="navigation">
		 
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Camachosoft</a>
            </div>

            <ul class="nav navbar-top-links navbar-right">
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
                        <i class="fa fa-bell fa-fw"></i> <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-alerts">
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-comment fa-fw"></i> New Comment
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-twitter fa-fw"></i> 3 New Followers
                                    <span class="pull-right text-muted small">12 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-envelope fa-fw"></i> Message Sent
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-tasks fa-fw"></i> New Task
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-upload fa-fw"></i> Server Rebooted
                                    <span class="pull-right text-muted small">4 min</span>
                                </div>
                            </a>
                        </li>
                        <li class="divider"></li>
                        <li>
                            <a class="text-center" href="#">
                                <strong>See All Alerts</strong>
                                <i class="fa fa-angle-right"></i>
                            </a>
                        </li>
                    </ul>
                    <!-- /.dropdown-alerts -->
                </li>
                <!-- /.dropdown -->
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#" aria-expanded="false">
                        <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                        </li>
                        <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                        </li>
                    </ul>
                    <!-- /.dropdown-user -->
                </li>
                <!-- /.dropdown -->
            </ul>
        </nav>
        <!--/. NAV TOP  -->
        <nav class="navbar-default navbar-side" role="navigation"  >
            <div class="sidebar-collapse" >
			
			 
                <ul class="nav"  id="main-menu" ng-repeat="x in menu2"  >

                    <li id={{x.id}} ng-click="toggleTables($event)">
                        <a class="active-menu"  href="#"><i class="fa fa-dashboard"></i> {{x.nombre}}</a>
                    </li>
					
					
                </ul>

            </div>

        </nav>
        <!-- /. NAV SIDE  -->
        <div id="page-wrapper">
            <div id="page-inner">
              
                <!-- /. ROW  -->
                <div class="row all_fracs_table" >
                    <div class="col-md-12 col-sm-12 col-xs-12" >
                        <div class="panel panel-default">
                            <div class="panel-heading text-right">
								<span ><a href="#" class="btn btn-default" ng-click="calcularFracs()">Calcular</a></span>
									<span style="margin-left:10px;"><button class="btn btn-default" ng-click="soap()"><i class=" fa fa-refresh "></i> Actualizar</button></span>
                            </div> 
                            <div class="panel-body">
                                <div class="table-responsive" >
                                    <table class="table table-striped table-bordered table-hover" id="tablaFraccs">
                                        <thead>
									  		<tr >  
											<th class="text-center">#</th>
									  			<th style="text-align:center;">Fraccionamiento</th>
									  			<th class="text-center">Acción</th>
									  		</tr>
									  	</thead>
									  	<tbody ng-repeat="x in nombres track by $index">
										
											<tr>
											<td class="text-center">
									  				{{$index}}
									  			</td>
									  			<td class="text-left">
									  				{{x.Nombre}}
									  			</td>
									  			<td class="text-center">
									  				<input type="checkbox" class="custom-checkbox" id={{x.CodFrac}} name={{x.Nombre}} checked="">
														<label for={{x.CodFrac}}></label>
									  			</td>
									  		</tr>
									  	</tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <!-- /. ROW  -->

				
                <div class="row frac_table" >
				
				
				
				<div class="row ">

					<div class="col-md-12">
						<div class="panel panel-default">
							<div class="panel-heading">
								Fraccionamiento: {{}}
							</div>        
							<div class="panel-body"> 
								<div class="alert alert-success col-md-4">
									<strong>Saldo Corriente: </strong> ${{}}
								</div>
								<div class="alert alert-danger col-md-4">
									<strong>Saldo Vencido: </strong>${{}}
								</div>
								<div class="alert alert-info col-md-4">
									<strong>Saldo Recuperado: </strong> ${{}}
								</div>
							</div>
						</div>
					</div>						
				</div>
				
                    <div class="col-md-12 col-sm-12 col-xs-12" >
                        <div class="panel panel-default">
                             
                            <div class="panel-body">
                                <div class="table-responsive" >
                                    <table class="table table-striped table-bordered table-hover" id="tablaFraccs">
                                        <thead>
									  		<tr >  
											<th class="text-center">#</th>
									  			<th style="text-align:center;">Expediente</th>
									  			<th class="text-center">Cliente</th>
												<th class="text-center">Último Abono</th>
												<th class="text-center">Saldo Corriente</th>
												<th class="text-center">Saldo Vencido</th>
												
									  		</tr>
									  	</thead>
									  	<tbody ng-repeat="x in nombres track by $index">
										
											<tr>
												<td class="text-center">
									  				{{}}
									  			</td>
												<td class="text-center">
									  				{{}}
									  			</td>
												<td class="text-center">
									  				{{}}
									  			</td>
												<td class="text-center">
									  				{{}}
									  			</td>
												<td class="text-center">
									  				{{}}
									  			</td>
												<td class="text-center">
									  				{{}}
									  			</td>
									  			
									  			
									  		</tr>
									  	</tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
				<footer><p>All right reserved. Template by: <a href="http://webthemez.com">WebThemez</a></p></footer>
            </div>
            <!-- /. PAGE INNER  -->
        </div>
        <!-- /. PAGE WRAPPER  -->
    </div>
    <!-- /. WRAPPER  -->
    <!-- JS Scripts-->
    <!-- jQuery Js -->
    <script src="assets/js/jquery-1.10.2.js"></script>
    <!-- Bootstrap Js -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- Metis Menu Js -->
    <script src="assets/js/jquery.metisMenu.js"></script>
    <!-- Morris Chart Js -->
    <script src="assets/js/morris/raphael-2.1.0.min.js"></script>
    <script src="assets/js/morris/morris.js"></script>
    <!-- Custom Js -->
    <script src="assets/js/custom-scripts.js"></script>
	
	<script>
	$(".frac_table").hide();
		var app = angular.module('index', []).config(function($httpProvider){
    delete $httpProvider.defaults.headers.common['X-Requested-With'];
	});
		
		
		
		
	


		
		
		
		app.controller('index_ctrl', function($scope, $http) {
		
		
			
			
			
			$scope.menu2= [];
			
			var objeto = {id:"0", nombre:"Calcular Fraccionamiento"};
			$scope.menu2.push(objeto);
			
			$scope.calcularFracs =  function(){
			$scope.menu2= [];
			
			var objeto = {id:"0", nombre:"Calcular Fraccionamiento"};
			$scope.menu2.push(objeto);
			
				$('input:checked').each(function() 
				{
				    var objeto = {id:$(this).attr('id'), nombre:$(this).attr('name')};
					$scope.menu2.push(objeto);
				});
			};
			
			$scope.toggleTables = function($event){
			
				if($event.currentTarget.id != 0){
					$(".frac_table").show();
					$(".all_fracs_table").hide();
				}
				else{
					$(".frac_table").hide();
					$(".all_fracs_table").show();
				}
			};
			
			
			
			
			$scope.soap = function($event){
	
			
			
			/*	$http.get("https://safe-ravine-5890.herokuapp.com/HelloService/hola")
			.success(function(response) {alert(response)});*/
			
			$http.get("https://rest-server-computo.herokuapp.com/fracs")
			.success(function(response) {$scope.nombres = response; });
			
			
			$http.get("https://safe-ravine-5890.herokuapp.com/HelloService/hola")
			.success(function(response) {console.log(response); })
			.error(function(response) {console.log(response); });
			
			
			/*
			$.ajax({
					url: 'https://safe-ravine-5890.herokuapp.com/HelloService/hola',
					data: {},
					type: 'GET',
					crossDomain: true, // enable this
					dataType: 'text/xml',
					success: function() { alert("Success"); },
					error: function() { alert('Failed!'); },
					beforeSend: setHeader
				}); 
				*/
    
			
			};
		});
	
	</script>

	
</body>

</html>